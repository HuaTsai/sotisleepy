<script src="https://www.youtube.com/iframe_api"></script>

<div class="header">
  <mat-toolbar color="primary">
    <span>Myo Sotis</span>
    <span class="spacer"></span>
    <!-- TODO: may replace with a tag -->
    <button mat-icon-button>
      <fa-icon [icon]="['fas', 'heart']"></fa-icon>
    </button>
    <button mat-icon-button>
      <fa-icon [icon]="['fas', 'share-nodes']"></fa-icon>
    </button>
    <button mat-icon-button>
      <fa-icon [icon]="['fas', 'bug']"></fa-icon>
    </button>
  </mat-toolbar>
</div>

<div class="flex-container">
  <div class="flex-left">
    <!-- 854 x 480 or 640 x 360 -->
    <!-- short 315 x 560, 1.2x 378 x 672 -->

    <!-- Desktop -->
    <div *appMedia="'(min-width: 768px)'">
      <iframe
        id="player"
        width="640"
        height="360"
        [src]="videoId | safe: 'resourceUrl'"
        title="Youtube Player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
      ></iframe>
    </div>

    <!-- Mobile -->
    <div *appMedia="'(max-width: 767px)'">
      <iframe
        id="player"
        width="100%"
        height="225"
        [src]="videoId | safe: 'resourceUrl'"
        title="Youtube Player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
      ></iframe>
    </div>

    <app-intro></app-intro>
  </div>
  <div class="flex-right">
    <div [hidden]="!allDataLoaded">
      <mat-tab-group>
        <mat-tab label="Song List">
          <app-song-list
            [songType]="'streams'"
            (dataLoadedEvent)="onDataLoaded($event)"
            (songSelected)="getSongSelected($event)"
          ></app-song-list>
        </mat-tab>
        <mat-tab label="Cover List">
          <app-song-list
            [songType]="'covers'"
            (dataLoadedEvent)="onDataLoaded($event)"
            (songSelected)="getSongSelected($event)"
          ></app-song-list>
        </mat-tab>
        <mat-tab label="Suggestion List">
          <p>Sotis Suggestions</p>
        </mat-tab>
        <mat-tab label="Soraru List">
          <p>Secret: seldom appears</p>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>

<footer class="footer">
  <p class="copyright">&copy; 2024 <a href="https://twitter.com/HuaTsai2">HuaTsai</a>. All rights reserved.</p>
  <p class="acknowledgement">Special thanks to <a href="https://twitter.com/yukiyuki_amano">天野ゆきゆき</a> for inspiring the website, and to <a href="https://twitter.com/DXEE0622">DXEE</a> for the data collection.</p>
</footer>
